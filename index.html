<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DeepHex Beta</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <style>
      /* Fill the whole window and keep black borders */
      html, body {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: #000;
      }

      /* Phaser container fills the screen */
      #game-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #000;
      }

      /* Ensure canvas scales properly and stays crisp */
      canvas {
        display: block;
        image-rendering: pixelated;
      }

      /* Optional: hide scrollbars just in case */
      ::-webkit-scrollbar {
        display: none;
      }
    </style>
  </head>

  <body>
    <div id="game-container"></div>

    <!-- Phaser (use your current build or CDN if local is not bundled) -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>

    <script type="module">
      import LobbyScene from "./src/scenes/LobbyScene.js";
      import WorldScene from "./src/scenes/WorldScene.js";
      import CombatScene from "./src/scenes/CombatScene.js";

      const DESIGN_WIDTH = 1600;
      const DESIGN_HEIGHT = 1000;

      const config = {
        type: Phaser.AUTO,
        backgroundColor: "#000000",
        parent: "game-container",
        scene: [LobbyScene, WorldScene, CombatScene],
        scale: {
          mode: Phaser.Scale.FIT,              // Fit canvas to any window
          autoCenter: Phaser.Scale.CENTER_BOTH, // Center horizontally + vertically
          width: DESIGN_WIDTH,
          height: DESIGN_HEIGHT
        },
        resolution: window.devicePixelRatio || 1, // Crisp on retina/high-DPI
        render: {
          antialias: true,
          roundPixels: true,
          pixelArt: false
        },
        dom: { createContainer: true }
      };

      new Phaser.Game(config);

      // Optional: Adjust on window resize if needed
      window.addEventListener("resize", () => {
        const game = Phaser.GAMES[0];
        if (game && game.scale) game.scale.refresh();
      });
    </script>
  </body>
</html>
